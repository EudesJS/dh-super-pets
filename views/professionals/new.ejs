<%- include('../includes/head',{title:"Cadastro de Profissional"}) %>

<body>
  <%- include('../includes/flash_messages') %>

  <div class="pr-grid-container">
    <div class="pr-logo">
      <span class="pr-logo__link"><a class="pr-logo__link-redirect" href="/"></a></span>
    </div>
    <!-- <div class="pr-main">form</div> -->
    <form class="pr-main" action="/professionals/create" method="POST">
      <div class="pr-main__title">
        <p class="pr-main__title-content">Cadastro</p>
      </div>    
      <div class="pr-main__name">
        <label for="name">Nome</label><br/>
        <input class="pr-main__name-input" type="text" name="name" id="name" 
        placeholder="Digite o seu nome ou nome da empresa"
        minlength="6" maxlength="150" required>
      </div>
      <div class="pr-main__email">
        <label for="email">E-mail</label><br/>
        <input class="pr-main__email-input" type="email" name="email" id="email"
          placeholder="professional@superpets.com.br"
          maxlength="150"
          oninvalid="this.setCustomValidity('Insira um e-mail válido')"
          onchange="try{setCustomValidity('')}catch(e){}"
          oninput="setCustomValidity('')"
          required>
      </div>
      <div class="pr-main__mobile">
        <label for="mobile">Celular</label><br/>
        <input class="pr-main__mobile-input" type="tel" name="mobile" id="mobile"
          pattern="\([0-9]{2}\) [0-9]{5}-[0-9]{4}$" 
          maxlength="20"
          placeholder="(11) 00000-0000"  
          oninvalid="this.setCustomValidity('Insira um número válido')"
          onchange="try{setCustomValidity('')}catch(e){}"
          oninput="setCustomValidity('')"
          required>
      </div>
      
      <div class="pr-main__neighborhood">
        <label for="neighborhood">Bairro</label>
        <select class="pr-main__neighborhood-select" name="neighborhood" id="neighborhood">
          <option disabled selected>Selecione o seu bairro</option>
          <% for(let i=0; i<input_neighborhoods.length; i++){ %>
            <option value="<%= input_neighborhoods[i].id %>"><%= input_neighborhoods[i].name %></option>
          <% } %>
        </select>
      </div>
      <div class="pr-main__password">
        <label for="password">Crie uma senha</label>
        <input class="pr-main__password-input" type="password" name="password" id="password" 
        minlength="6" 
        maxlength="20" 
        oninvalid="this.setCustomValidity('Insira uma senha com pelo menos 6 caracteres')"
        onchange="try{setCustomValidity('')}catch(e){}"
        oninput="setCustomValidity('')"
        required>
      </div>
      <div class="pr-main__confirm-password">
        <label for="password">Confirme a sua senha</label>
        <input class="pr-main__confirm-password-input" type="password" name="confirm_password" id="confirm_password" 
          minlength="6" 
          maxlength="20" 
          oninvalid="this.setCustomValidity('Confirme a sua senha')"
          onchange="try{setCustomValidity('')}catch(e){}"
          oninput="setCustomValidity('')"
          required>
      </div>
      <div class="pr-main__terms-of-service">
        <input class="pr-main__terms-of-service-input" type="checkbox" name="agree_terms_of_service"
          id="agree_terms_of_service"
          oninvalid="this.setCustomValidity('Você deve ler e estar de acordo com os termos de uso')"
          onchange="try{setCustomValidity('')}catch(e){}"
          oninput="setCustomValidity('')"
          required>
        <label class="pr-main__terms-of-service-label" for="agree_terms_of_service">Eu li e concordo com os termos de
          uso</label>
      </div>
      <div class="pr-main__already-an-user">
        <span class="pr-main__already-an-user-content">
          Já tem cadastro?
          <a href="/professionals/login" class="pr-main__already-an-user-content--link">Faça o login</a>
        </span>
      </div>
      <div class="pr-main__submit">
        <button class="pr-main__submit-button" type="submit">Cadastrar</button>
      </div>
    </form>
  </div>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
  <script>
    $(document).ready(function(){
      // mask
      $('#mobile').mask('(00) 00000-0000');
    });
  </script>
</body>