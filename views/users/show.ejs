<%- include('../includes/head',{title:"Perfil Público Usuário"}) %>
<body>
  <div class="upublicp-grid-container">
    <!-- Dados do usuário logado -->
    <div class="upublicp-header">
      <%- include('../includes/header', {title:"Perfil Administrativo Usuário", username:"Isabella A. Nunes", img:"prof-img"}) %>
    </div>
    <!-- Dados do perfil público -->
    <div class="upublicp__profile">
      <img class="upublicp__photo" src="/img/clients/<%= user.photo %>" alt="User Photo">
      <div class="upublicp__custom-message">
        "<%= user.about_me %>"
      </div>
      <div class="upublicp__user-name">
        <%= user.name %>
      </div>
      
      <div class="upublicp__stars">
        <i class="fa fa-star upublicp__star" aria-hidden="true"></i>
        <i class="fa fa-star upublicp__star" aria-hidden="true"></i>
        <i class="fa fa-star upublicp__star" aria-hidden="true"></i>
        <i class="fa fa-star upublicp__star" aria-hidden="true"></i>
        <i class="fa fa-star-o upublicp__star-o" aria-hidden="true"></i>
        <span class="upublicp__stars-counter">(159)</span>
      </div>

      <div class="upublicp__pet-photos">
        <% if(user.Pets.length > 0){ %>
          <% for(let i=0; i<user.Pets.length; i++){ %>
            <div class="upublicp__pet-content">
              <img class="upublicp__photos-1" src="/img/pets/<%= user.Pets[i].photo %>" alt="Pet Photo">
              <div class="upublicp__pet-details">
                <div class="upublicp__pet-details--name"><%= user.Pets[i].name %></div>
                <div class="upublicp__pet-details--params">Idade: </div>
                <div class="upublicp__pet-details--answers"><%= user.Pets[i].birth ? `${moment().diff(user.Pets[i].birth, 'years')} anos` : "Não informado"; %></div><br>
                <div class="upublicp__pet-details--params">Raça: </div>
                <div class="upublicp__pet-details--answers"><%= user.Pets[i].breed ?  user.Pets[i].breed : "Não informado"%></div><br>
                <div class="upublicp__pet-details--params">Tipo de Pet: </div>
                <div class="upublicp__pet-details--answers"><%= user.Pets[i].PetType.name %></div><br>
                <div class="upublicp__pet-details--params">Vacinado: </div>
                <div class="upublicp__pet-details--answers"><%= user.Pets[i].vaccinated ? "Sim" : "Não" %></div><br>
                <div class="upublicp__pet-details--params">Castrado: </div>
                <div class="upublicp__pet-details--answers"><%= user.Pets[i].castrated ? "Sim" : "Não" %></div><br>
                <div class="upublicp__pet-details--params">
                  Observações: </div><br>
                <div class="upublicp__pet-details--notes"><%= user.Pets[i].notes ? user.Pets[i].notes : "Nenhuma observação informada" %></div>
              </div>
            </div>
          <%}%>    
        <% } else { %>
          <div class="upublicp__pet-content">
              <img class="upublicp__photos-1" src="/img/pets/800x500.png" alt="Service Photos">
              <div class="upublicp__pet-details">
                Usuário ainda não possui nenhum pet cadastrado.
              </div>
          </div>        
        <% } %>
      </div>

    </div>

    <div class="upublicp-footer">
      <%- include('../includes/footer') %> 
    </div>
  </div> 
</body>